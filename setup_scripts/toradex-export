#!/bin/sh
ECHO=`which echo`
BUILDDIR="../../toradex-build"
FIRST_TIME=0
cd sources/openembedded-core/
if [ ! -f ${BUILDDIR}/conf/local.conf ]; then
	FIRST_TIME=1
fi

. ./oe-init-build-env ${BUILDDIR}

echo ""
echo "Toradex targets are:"
echo "    angstrom-lxde-image"
echo "    console-tdx-image"
echo "    angstrom-qt-x11-image"

if [ $FIRST_TIME -eq 1 ]; then
	mkdir -p conf
	cp ../sources/meta-toradex-demos/buildconf/*.conf conf/

	echo ""
	$ECHO -e "\033[1mA sample conf/local.conf file has been created"
	$ECHO -e "Check and edit the file to adapt to your local needs\033[0m"
	echo "The following likely need your attention:"
	echo "BB_NUMBER_THREADS, PARALLEL_MAKE, DL_DIR"
fi
